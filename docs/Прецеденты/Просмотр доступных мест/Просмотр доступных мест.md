# Прецедент: Просмотр доступных мест

**Рамки.** Система продажи билетов на футбол.

**Уровень.** Задача, определенная пользователем.

**Основной исполнитель.** Кассир.

## Заинтересованные лица и их требования

- **Кассир.** Хочет быстро получить актуальную информацию о доступных местах для консультирования покупателя.
- **Покупатель.** Хочет видеть схему стадиона с доступными местами, ценами и категориями для принятия решения.
- **Система.** Должна отображать актуальную информацию в реальном времени с учетом всех продаж и бронирований во всех кассах.
- **Стадион.** Заинтересован в предоставлении полной и точной информации для увеличения продаж.

## Предусловия

- Кассир авторизован в системе.
- В системе есть информация о предстоящих матчах.
- Схема стадиона с местами загружена в систему.

## Результаты (Постусловия)

- Кассир и покупатель видят актуальную схему стадиона.
- Отображена информация о доступности, категориях и ценах мест.
- Покупатель может принять информированное решение о выборе места.

## Основной успешный сценарий

1. Покупатель обращается к кассиру с запросом о доступных местах на матч.
2. Кассир запрашивает у системы список предстоящих матчей.
3. Система отображает список матчей с датами.
4. Кассир выбирает интересующий матч.
5. Система запрашивает информацию о всех местах стадиона.
6. Система проверяет статус каждого места (продано, забронировано, свободно).
7. Система группирует места по секторам.
8. Система отображает схему стадиона с цветовой индикацией:
   - Зеленый - свободно
   - Желтый - забронировано
   - Красный - продано
9. Система показывает легенду с категориями мест и ценами:
   - VIP (цена)
   - Стандарт (цена)
   - Стоячие места (цена)
10. Система отображает статистику: всего мест, свободно, забронировано, продано.
11. Кассир показывает схему покупателю на экране.
12. Покупатель изучает доступные места.
13. Кассир может отфильтровать места по категории или сектору по запросу покупателя.

## Расширения (альтернативные потоки)

**4а. На выбранный матч все места проданы.**
1. Система отображает сообщение "Билеты распроданы".
2. Кассир предлагает выбрать другой матч.

**13а. Покупатель хочет видеть только определенную категорию мест.**
1. Кассир применяет фильтр по категории (VIP, Стандарт, Стоячие).
2. Система отображает только места выбранной категории.
3. Остальные места затемнены или скрыты.

**13б. Покупатель интересуется конкретным сектором.**
1. Кассир выбирает сектор на схеме.
2. Система увеличивает выбранный сектор.
3. Отображается детальная информация о местах в секторе с номерами рядов и мест.

**6а. Данные не синхронизированы (место только что продано в другой кассе).**
1. Система автоматически обновляет информацию каждые 5 секунд.
2. При попытке выбрать недоступное место система сообщает об изменении статуса.

**12а. Покупатель хочет сравнить места на разные матчи.**
1. Кассир открывает несколько схем в разных вкладках/окнах.
2. Покупатель сравнивает доступность мест.

## Специальные требования

- Информация должна обновляться в реальном времени (автообновление каждые 5 секунд).
- Схема стадиона должна быть наглядной и интуитивно понятной.
- Цветовая индикация должна быть различима для людей с нарушениями цветовосприятия.
- Время отклика системы при загрузке схемы не должно превышать 2 секунд.
- Должна быть возможность масштабирования схемы.

## Список технологий и типов данных

- Статус места: enum (Available, Reserved, Sold).
- Категория места: enum (VIP, Standard, Standing).
- Цветовая схема: Green (#00FF00), Yellow (#FFFF00), Red (#FF0000).
- Обновление данных: polling каждые 5 секунд или WebSocket для real-time.

## Частота использования

Постоянно, при каждом обращении покупателя.

## Открытые вопросы

- Нужна ли 3D-визуализация стадиона с видом с места?
- Следует ли показывать историю цен (динамика изменения стоимости)?
- Нужны ли рекомендации системы по выбору лучших мест?
